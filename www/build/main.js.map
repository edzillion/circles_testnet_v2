{"version":3,"sources":["../../src/providers/user-service/user-service.ts","../../src/environments/environment.ts","../../src/providers/validator-service/validator-service.ts","../../src/pages/validator-detail/validator-detail.ts","../../src/pages/user-detail/user-detail.ts","../../src/providers/transaction-service/transaction-service.ts","../../node_modules/@angular/core/@angular lazy","../../src lazy","../../src/pages/login/login.ts","../../src/pages/login-email/login-email.ts","../../src/pages/signup-email/signup-email.ts","../../src/pages/home/home.ts","../../src/pages/search/search.ts","../../src/pages/send/send.ts","../../src/pages/wallet/wallet.ts","../../src/pages/settings/settings.ts","../../src/pages/profile/profile.ts","../../src/pages/disclaimer/disclaimer.ts","../../src/app/main.ts","../../src/app/app.module.ts","../../src/app/app.component.ts","../../src/providers/push-service/push-service.ts","../../src/pipes/key-object/key-object.ts","../../src/components/news-card/news-card.ts","../../src/providers/analytics-service/analytics-service.ts","../../src/providers/news-service/news-service.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["import { Injectable, OnDestroy } from '@angular/core';\r\n\r\nimport { AngularFireDatabase, FirebaseListObservable, FirebaseObjectObservable } from 'angularfire2/database';\r\nimport { AngularFireAuth } from 'angularfire2/auth';\r\nimport * as firebase from 'firebase/app';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { Subscription } from 'rxjs/Subscription';\r\nimport { BehaviorSubject } from 'rxjs/BehaviorSubject';\r\nimport { ReplaySubject } from 'rxjs/ReplaySubject';\r\nimport 'rxjs/add/operator/find';\r\nimport 'rxjs/add/operator/map';\r\n\r\nimport { User } from '../../interfaces/user-interface';\r\nimport { Coin } from '../../interfaces/coin-interface';\r\nimport { Validator } from '../../interfaces/validator-interface';\r\nimport { NewsItem } from '../../interfaces/news-item-interface';\r\n\r\n@Injectable()\r\nexport class UserService implements OnDestroy {\r\n\r\n  public initUserSubject$: ReplaySubject<any> = new ReplaySubject<any>(1);\r\n\r\n  private userSubject$: BehaviorSubject<User>;\r\n  private usersSubject$: ReplaySubject<Array<User>> = new ReplaySubject<Array<User>>(1);\r\n\r\n  public user$: Observable<User>;\r\n  public userFirebaseObj$: FirebaseObjectObservable<User>;\r\n  public users$ = this.usersSubject$.asObservable();\r\n  public authState$: any;\r\n\r\n  private authSub$: Subscription;\r\n  private userSub$: Subscription;\r\n  private usersSub$: Subscription;\r\n\r\n  //private createdAt: number;\r\n  private weeklyGrant: number = 100;\r\n\r\n  private myCoins: Coin = {} as Coin;\r\n\r\n  private allCoins: { [key: string]: Coin };\r\n\r\n  private user = {} as User;\r\n  public users: any;\r\n\r\n\r\n\r\n  constructor(\r\n    private afAuth: AngularFireAuth,\r\n    private db: AngularFireDatabase\r\n  ) {\r\n\r\n    this.user.createdAt = 0;\r\n    this.authState$ = this.afAuth.authState;\r\n    this.initUserSubject$.take(1).subscribe(\r\n      initUser => {\r\n        this.userSubject$ = new BehaviorSubject(initUser);\r\n        this.user$ = this.userSubject$.asObservable();\r\n        // this.userSubject$ is our app wide current user Subscription\r\n        this.userFirebaseObj$ = this.db.object('/users/' + initUser.$key);\r\n        this.userSub$ = this.userFirebaseObj$.subscribe(\r\n          user => {\r\n            this.user = user;\r\n            this.setBalance();\r\n\r\n            //this.initUserSubject$.unsubscribe();\r\n            this.userSubject$.next(this.user);\r\n          },\r\n          error => console.log('Could not load current user record.')\r\n        );\r\n\r\n        this.usersSub$ = this.db.list('/users/').subscribe(\r\n          users => {\r\n            this.users = [];\r\n            for (let u of users) {\r\n              this.users[u.$key] = u;\r\n            }\r\n            //clone the users array so that we don't change a user accidentally\r\n            //Object.assign(this.dataStore.users, users);\r\n            this.usersSubject$.next(users);\r\n          },\r\n          error => console.log('Could not load users.')\r\n        );\r\n//        this.initUserSubject$.unsubscribe();\r\n      }\r\n    )\r\n  }\r\n\r\n\r\n    // this.authState$ = this.afAuth.authState;\r\n    // this.authSub$ = this.afAuth.authState.subscribe(\r\n    //   auth => {\r\n    //     if (auth) {\r\n          // this.validatorService.initialise();\r\n          // let userObs = this.db.object('/users/' + auth.uid);\r\n          // let userSub = userObs.subscribe(\r\n            // user => {\r\n              // if (!user.$exists()) {\r\n              //   //user doesn't exist, create user entry on db\r\n              //   this.user.createdAt = firebase.database['ServerValue']['TIMESTAMP'];\r\n              //   this.user.news = [{\r\n              //     timestamp: this.user.createdAt,\r\n              //     type: 'createAccount'\r\n              //   } as NewsItem];\r\n              //   this.user.authProviders = [\"email\"];\r\n              //   this.setInitialWallet(auth.uid);\r\n              //   this.user.totalReceived = 0;\r\n              //   this.user.totalSent = 0;\r\n              //   this.user.trustedUsers = [auth.uid];\r\n              //   this.user.weeklyReceived = 0;\r\n              //   this.user.weeklySent = 0;\r\n              //   userObs.set(this.user);\r\n              // }\r\n              // else {\r\n  //               this.userSubject$ = new BehaviorSubject(user);\r\n  //               this.user$ = this.userSubject$.asObservable();\r\n  //               // this.userSubject$ is our app wide current user Subscription\r\n  //               this.userFirebaseObj$ = this.db.object('/users/' + auth.uid);\r\n  //               this.userSub$ = this.userFirebaseObj$.subscribe(\r\n  //                 user => {\r\n  //                   this.user = user;\r\n  //                   this.setBalance();\r\n  //                   if (this.user.validators) {\r\n  //                     this.validatorService.setUserValidators(this.user);\r\n  //                   }\r\n  //                   this.initUserSubject$.next(user)\r\n  //                   this.userSubject$.next(user);\r\n  //                 },\r\n  //                 error => console.log('Could not load current user record.')\r\n  //               );\r\n  //\r\n  //               this.usersSub$ = this.db.list('/users/').subscribe(\r\n  //                 users => {\r\n  //                   this.users = [];\r\n  //                   for (let u of users) {\r\n  //                     this.users[u.$key] = u;\r\n  //                   }\r\n  //                   //clone the users array so that we don't change a user accidentally\r\n  //                   //Object.assign(this.dataStore.users, users);\r\n  //                   this.usersSubject$.next(users);\r\n  //                 },\r\n  //                 error => console.log('Could not load users.')\r\n  //               );\r\n  //               userSub.unsubscribe();\r\n  //             }\r\n  //           },\r\n  //           error => console.error(error),\r\n  //           () => { }\r\n  //         );\r\n  //       }\r\n  //       else { //auth=null\r\n  //         //wipe on logout\r\n  //         this.user = {} as User;\r\n  //       }\r\n  //     },\r\n  //     error => console.error(error),\r\n  //     () => { }\r\n  //   );\r\n  // }\r\n\r\n  public createUserRecord(auth): User {\r\n    //user doesn't exist, create user entry on db\r\n    this.user.createdAt = firebase.database['ServerValue']['TIMESTAMP'];\r\n    this.user.news = [{\r\n      timestamp: this.user.createdAt,\r\n      type: 'createAccount'\r\n    } as NewsItem];\r\n\r\n    this.user.email = auth.email || '';\r\n    this.user.authProviders = [\"email\"];\r\n    this.setInitialWallet(auth.uid);\r\n    this.user.totalReceived = 0;\r\n    this.user.totalSent = 0;\r\n    this.user.trustedUsers = [auth.uid];\r\n    this.user.weeklyReceived = 0;\r\n    this.user.weeklySent = 0;\r\n\n    return this.user;\r\n}\r\n\r\n\r\n\r\n\r\n  public keyToUser$(key: string): Observable<User> {\r\n    return this.users$.map(\r\n      users => users.find(user => user.$key === key)\r\n    );\r\n  }\r\n\r\n  public keyToUserName$(key: string): Observable<string> {\r\n    return this.users$.map(users => {\r\n      let u = users.find(user => user.$key === key);\r\n      return u.displayName;\r\n    });\r\n  }\r\n\r\n  public filterUsers$(searchTerm: string) {\r\n    //if (!searchTerm)\r\n    //  return Observable.empty(); //todo: should this return an observable(false) or something?\r\n    return this.users$.map((users) => {\r\n      return users.filter((user) => {\r\n        if (!user.displayName || user.$key == 'undefined' || (user.$key == this.user.$key))\r\n          return false;\r\n        let s = searchTerm.toLowerCase();\r\n        let d = user.displayName.toLowerCase();\r\n        return d.indexOf(s) > -1;\r\n      });\r\n    });\r\n  }\r\n\r\n  public async update(updateObject: Object) {\r\n    try {\r\n      let result = await this.userFirebaseObj$.update(updateObject);\r\n      console.log(result);\r\n    } catch (error) {\r\n      console.error(error);\r\n      throw new Error(\"userService update fail\");\r\n    }\r\n  }\r\n\r\n  public signInEmail(email, password) {\r\n    return this.afAuth.auth.signInWithEmailAndPassword(email, password);\r\n  }\r\n\r\n  public signInRedirect(provider) {\r\n    return this.afAuth.auth.signInWithRedirect(provider);\r\n  }\r\n\r\n  public async createUser(email, password) {\r\n    let u = await this.afAuth.auth.createUserWithEmailAndPassword(email, password);\r\n    this.user.email = u.email;\r\n  }\r\n\r\n  public async addTrustedUser(userKey) {\r\n    this.user.trustedUsers.push(userKey);\r\n    let userObs = this.db.object('/users/' + this.user.$key);\r\n    userObs.update({ trustedUsers: this.user.trustedUsers });\r\n  }\r\n\r\n  public async removeTrustedUser(userKey) {\r\n    let arr = this.user.trustedUsers.filter(user =>\r\n\t     user != userKey\r\n    );\r\n    let userObs = this.db.object('/users/' + this.user.$key);\r\n    await userObs.update({ trustedUsers: arr });\r\n  }\r\n\r\n  private setInitialWallet(userKey): void {\r\n    let now = new Date();\r\n    let day = now.getDay();\r\n    let diff = (7 - 5 + day) % 7;\r\n    let b = this.weeklyGrant - ((this.weeklyGrant / 7) * (diff));\r\n    this.myCoins.amount = Math.round(b);\r\n    this.myCoins.owner = userKey;\r\n    this.myCoins.title = (this.user.firstName) ? this.user.firstName + 'Coin' : 'CircleCoin';\r\n    //my coins are always the highest priority\r\n    this.myCoins.priority = 0;\r\n    this.allCoins = {\r\n      [userKey]: this.myCoins,\r\n    }\r\n    this.user.wallet = this.allCoins;\r\n    this.setBalance();\r\n  }\r\n\r\n  public setBalance(): void {\r\n    let total = 0;\r\n    for (let i in this.user.wallet) {\r\n      total += this.user.wallet[i].amount;\r\n    }\r\n    this.user.balance = total;\r\n  }\r\n\r\n  public applyForTrust(userKey) {\r\n    this.addTrustedUser(userKey);    \r\n  }\r\n\r\n  public revokeTrust(userKey) {\r\n    this.removeTrustedUser(userKey);\r\n  }\r\n\r\n  public signOut() {\r\n    return this.afAuth.auth.signOut();\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.authSub$.unsubscribe();\r\n    this.userSub$.unsubscribe();\r\n    this.usersSub$.unsubscribe();\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/user-service/user-service.ts","export const environment = {\r\n  production: false,\r\n  firebase: {\r\n    host: 'localhost',\r\n    apiKey: 'AIzaSyD-qk6NzF4sTQwqvgTSzl6z-tUH4Wd7PXc',\r\n    authDomain: 'circles-testnet.firebaseapp.com',\r\n    databaseURL: 'https://circles-testnet.firebaseio.com',\r\n    projectId: 'circles-testnet',\r\n    storageBucket: 'circles-testnet.appspot.com',\r\n    messagingSenderId: '551885395202'\r\n  },\r\n  googleAnalytics: {\r\n    id: 'UA-80367144-2'\r\n  },\r\n  cloudSettings: {\r\n    core: {\r\n      fcm_key: 'AAAAgH7u1QI:APA91bGwrBmTvZtLJKuzfeR_dP4x_wQm0LCMKR_IQWUwZSam3aCmqSGQ14txad1RlZaXSvly0F_Hte2pAHPSZaSOC63HMPojgQlxv1gIGUT7Z052G9IBVzmQ2Q5kFFljCY2KgdugPZ8-',\r\n      app_id: '742b9e39'\r\n    },\r\n    push: {\r\n      sender_id: '551885395202',\r\n      app_id: 'ec89dac3-9e63-4670-97f2-b49726099286',\r\n      pluginConfig: {\r\n        ios: {\r\n          badge: true,\r\n          sound: true\r\n        },\r\n        android: {\r\n          iconColor: '#343434'\r\n        }\r\n      }\r\n    }\r\n  }\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/environments/environment.ts","import { Injectable } from '@angular/core';\nimport { Http } from '@angular/http';\nimport 'rxjs/add/operator/map';\nimport { NavParams } from 'ionic-angular';\nimport { AngularFireDatabase, FirebaseListObservable, FirebaseObjectObservable } from 'angularfire2/database';\nimport { Subscription } from 'rxjs/Subscription';\nimport { ReplaySubject } from 'rxjs/ReplaySubject';\nimport { Observable } from 'rxjs/Observable';\nimport { User } from '../../interfaces/user-interface';\n\nimport { Validator } from '../../interfaces/validator-interface'\n\n@Injectable()\nexport class ValidatorService {\n\n  public validatorsFirebaseObj$: FirebaseListObservable<Validator[]>;\n  public validators: Array<Validator>;\n  public initValSubject$: ReplaySubject<any> = new ReplaySubject<any>(1);\n  public validators$: Observable<Validator[]>;\n\n  constructor(private db: AngularFireDatabase) {\n\n    this.validators$ = this.initValSubject$.asObservable();\n\n    this.validatorsFirebaseObj$ = this.db.list('/validators/');\n    this.validatorsFirebaseObj$.subscribe(\n      valis => {\n\n        this.validators = [];\n        for (let v of valis) {\n          this.validators[v.$key] = v;\n        }\n        this.initValSubject$.next(this.validators);\n      }\n    );\n\n    // this.userSub$ = this.userService.user$.subscribe(\n    //   user => {\n    //     if (user.validators) {\n    //       this.setUserValidators(user);\n    //     }\n    //   }\n    // );\n  }\n\n  // public setUserValidators(user) {\n  //   let vals = [...user.validators];\n  //   user.validators = [];\n  //   for (let i in vals) {\n  //     let key = vals[i];\n  //     user.validators[key] = this.validators[key];\n  //   }\n  // }\n\n  public filterValidators$(searchTerm: string) {\n    //if (!searchTerm)\n    //  return Observable.empty(); //todo: should this return an observable(false) or something?\n    return this.validators$.map((valis) => {\n      return valis.filter((vali) => {\n        if (!vali.displayName || vali.$key == 'undefined')\n          return false;\n        let s = searchTerm.toLowerCase();\n        let d = vali.displayName.toLowerCase();\n        return d.indexOf(s) > -1;\n      });\n    });\n  }\n\n  public applyForValidation(user, validator) {\n    if (!validator.appliedUsers)\n      validator.appliedUsers = [user.$key];\n    else\n      validator.appliedUsers.push(user.$key);\n\n    this.db.object('/validators/' + validator.$key).set(validator);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/validator-service/validator-service.ts","import { Component } from '@angular/core';\nimport { NavController, NavParams } from 'ionic-angular';\n\nimport { UserService } from '../../providers/user-service/user-service';\nimport { NewsService } from '../../providers/news-service/news-service';\nimport { User } from '../../interfaces/user-interface';\n\nimport { Validator } from '../../interfaces/validator-interface';\r\nimport { ValidatorService } from '../../providers/validator-service/validator-service';\n\nimport { Subscription } from 'rxjs/Subscription';\n\n@Component({\n  selector: 'page-validator-detail',\n  templateUrl: 'validator-detail.html',\n})\nexport class ValidatorDetailPage {\n\n  private user: User;\n  private validator: Validator;\n  private userSub$: Subscription;\n  private trusted: boolean = false;\n  private applied: boolean = false;\n\n  private trustedUsers: Array<User>;\n\n  constructor(\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    private userService: UserService,\n    private newsService: NewsService,\n    private validatorService: ValidatorService\n  ) {\n    this.validator = navParams.data;\n  }\n\n  private revokeTrust() {\n    this.validator.trustedUsers.filter(\n      user => user !== this.user.$key\n    );\n    this.trusted = false;\n    this.newsService.revokeTrust(this.validator);\n  }\n\n  private affordTrust() {\n    this.applied = true;\n    this.newsService.addValidatorTrustRequest(this.validator);\n    this.validatorService.applyForValidation(this.user, this.validator);\n  }\n\n  ionViewDidLoad() {\n    this.userSub$ = this.userService.user$.subscribe(\n      user => {\n        this.user = user;\n        this.trustedUsers = [];\n        if (this.user.validators) {\n          for (let vKey of this.user.validators) {\n            let v = this.validatorService.validators[vKey] as Validator;\n            for (let tUserKey of v.trustedUsers) {\n              let u = this.userService.users[tUserKey];\n              this.trustedUsers.push(u);\n              if (tUserKey == this.validator.$key) {\n                this.trusted = true;\n              }\n            }\n          }\n        }\n        if (this.validator.appliedUsers) {\n          if (this.validator.appliedUsers.find(u => u === this.user.$key))\n            this.applied = true;\n\n        }\n      }\n    );\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/validator-detail/validator-detail.ts","import { Component } from '@angular/core';\nimport { NavController, NavParams } from 'ionic-angular';\n\nimport { UserService } from '../../providers/user-service/user-service';\nimport { NewsService } from '../../providers/news-service/news-service';\nimport { TransactionService } from '../../providers/transaction-service/transaction-service';\nimport { User } from '../../interfaces/user-interface';\n\nimport { Subscription } from 'rxjs/Subscription';\n\nimport { SendPage } from '../send/send';\n\n@Component({\n  selector: 'page-user-detail',\n  templateUrl: 'user-detail.html',\n})\nexport class UserDetailPage {\n\n  private user: User;\n  private viewUser: User;\n  private userSub$: Subscription;\n  private directTrust: boolean = false;\n  private validatorTrust: boolean = false;\n  private trusted: boolean = false;\n\n  private validatedBy: any;\n\n  constructor(\n    private navCtrl: NavController,\n    public navParams: NavParams,\n    private userService: UserService,\n    private newsService: NewsService,\n    private transactionService: TransactionService\n  ) {\n    this.viewUser = navParams.data;\n\n    console.log(navParams.data);\n  }\n\n  private revokeTrust() {\n    this.newsService.revokeTrust(this.viewUser);\n    this.userService.revokeTrust(this.viewUser.$key);\n  }\n\n  private affordTrust() {\n    this.newsService.addTrust(this.viewUser);\n    this.newsService.addTrustRequest(this.viewUser);\n    this.userService.applyForTrust(this.viewUser.$key);\n  }\n\n  private sendCircles () {\n    this.navCtrl.push(SendPage, this.viewUser);\n  }\n\n  ionViewDidLoad() {\n    this.userSub$ = this.userService.user$.subscribe(\n      user => {\n        this.user = user;\n        let dTrust = this.user.trustedUsers.some(tUserKey => {\n          return tUserKey == this.viewUser.$key;\n        });\n        if (dTrust) {\n          this.directTrust = true;\n          this.trusted = true;\n        }\n        else if (this.user.validators) {\n          for (var validator of this.user.validators) {\n            for (var tUserKey of validator.trustedUsers) {\n              if (tUserKey == this.viewUser.$key)\n                this.validatorTrust = true;\n                this.validatedBy = validator;\n                this.trusted = true;\n            }\n          }\n        }\n      }\n    );\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/user-detail/user-detail.ts","import { Injectable, OnDestroy } from '@angular/core';\r\n\r\nimport { AngularFireDatabase, FirebaseListObservable } from 'angularfire2/database';\r\nimport * as firebase from 'firebase/app';\r\nimport { Subject } from 'rxjs/Subject';\r\nimport { Subscription } from 'rxjs/Subscription';\r\nimport 'rxjs/add/operator/map';\r\n\r\nimport { NewsService } from '../../providers/news-service/news-service';\r\nimport { UserService } from '../../providers/user-service/user-service';\r\nimport { User } from '../../interfaces/user-interface';\r\nimport { NewsItem } from '../../interfaces/news-item-interface';\r\nimport { LogItem } from '../../interfaces/log-item-interface';\r\nimport { Offer } from '../../interfaces/offer-interface';\r\n\r\n@Injectable()\r\nexport class TransactionService implements OnDestroy {\r\n\r\n  public transact: Subject<any> = new Subject<any>();\r\n\r\n  private user: User;\r\n  private userSub$: Subscription;\r\n  private toUserLog$: FirebaseListObservable<NewsItem[]>;\r\n  private transactionLog$: FirebaseListObservable<LogItem[]>;\r\n\r\n  constructor(\r\n    private db: AngularFireDatabase,\r\n    private newsService: NewsService,\r\n    private userService: UserService\r\n  ) {\r\n\r\n    this.userSub$ = this.userService.user$.subscribe(\r\n      user => this.user = user,\r\n      error => console.error(error),\r\n      () => console.log('transaction-service constructor userSub$ obs complete')\r\n    );\r\n\r\n    this.transactionLog$ = this.db.list('/transactions/');\r\n  }\r\n\r\n  private  async transfer(toUser:User, amount:number) {\r\n\r\n    amount = Number(amount);\r\n    let sentCoins = [];\r\n\r\n    let trusted = this.getTrustIntersection(this.user, toUser);\r\n    if (trusted.balance < amount) {\r\n      //we don't have enough trusted coins\r\n      return false;\r\n    }\r\n    for (let coin of trusted.trustedCoins) {\r\n      if (amount > coin.amount) {\r\n        let c = Object.assign({}, coin);;\r\n        sentCoins[coin.owner] = c;\r\n        coin.amount = 0;\r\n      }\r\n      else {\r\n        let c = Object.assign({}, coin);\r\n        c.amount = amount;\r\n        sentCoins[coin.owner] = c;\r\n        coin.amount -= amount;\r\n      }\r\n    }\r\n    this.user.balance -= amount;\r\n\r\n    //now we need to update the other wallet\r\n    toUser.balance += amount;\r\n    for (let key in sentCoins) {\r\n      if (toUser.wallet[key]) {\r\n        toUser.wallet[key].amount += sentCoins[key].amount;\r\n      }\r\n      else {\r\n        toUser.wallet[key] = sentCoins[key];\r\n      }\r\n    }\r\n\r\n    try {\r\n      let a = await this.db.object('/users/'+this.user.$key).update({\r\n        wallet: this.user.wallet,\r\n        balance: this.user.balance\r\n      });\r\n\r\n      let b = await this.db.object('/users/'+toUser.$key).update({\r\n        wallet: toUser.wallet,\r\n        balance: toUser.balance\r\n      });\r\n    }\r\n    catch (error) {\r\n      console.error(error);\r\n      throw new Error(\"Purchase fail\");\r\n    }\r\n    return true;\r\n  }\r\n\r\n  private logTransfer(toUser:User, amount:number):void {\r\n\r\n    let logItem = {\r\n      \"from\" : this.user.$key,\r\n      \"to\" : toUser.$key,\r\n      \"timestamp\" : firebase.database['ServerValue']['TIMESTAMP'],\r\n      \"amount\" : amount\r\n    } as LogItem;\r\n\r\n    //add to the main transaction log\r\n    this.transactionLog$.push(logItem);\r\n  }\r\n\r\n  public createTransactionIntent(toUserId:string, amount:number, message?:string): Promise<any> {\r\n    let p = new Promise( (resolve, reject) => {\r\n      this.userService.keyToUser$(toUserId).take(1).subscribe( (toUser) => {\r\n        if(this.transfer(toUser, amount)) {\r\n\r\n          this.logTransfer(toUser, amount);\r\n          this.newsService.addTransaction(toUser, amount, message);\r\n          resolve(true);\r\n        }\r\n        else\r\n          reject(new Error(\"Transfer Failed\"));\r\n      });\r\n    });\r\n\r\n    return p;\r\n  }\r\n\r\n  //which of the receivingUser's trusted coins does the sendingUser have?\r\n  private getTrustIntersection(sendingUser:User, receivingUser:User) {\r\n    let ret = [];\r\n    let sum = 0;\r\n    for (let u of receivingUser.trustedUsers) {\r\n      if (this.user.wallet[u]) {\r\n        sum += this.user.wallet[u].amount;\r\n        let p = this.user.wallet[u].priority;\r\n        ret[p] = this.user.wallet[u];\r\n      }\r\n    }\r\n    return {trustedCoins:ret,balance:sum};\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.userSub$.unsubscribe();\r\n    this.toUserLog$.subscribe().unsubscribe();\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/transaction-service/transaction-service.ts","function webpackEmptyAsyncContext(req) {\n\treturn new Promise(function(resolve, reject) { reject(new Error(\"Cannot find module '\" + req + \"'.\")); });\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 166;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@angular/core/@angular lazy\n// module id = 166\n// module chunks = 0","function webpackEmptyAsyncContext(req) {\n\treturn new Promise(function(resolve, reject) { reject(new Error(\"Cannot find module '\" + req + \"'.\")); });\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 207;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src lazy\n// module id = 207\n// module chunks = 0","import { Component } from '@angular/core';\nimport { IonicPage, Loading, LoadingController, NavParams, NavController } from 'ionic-angular';\nimport { AnalyticsService } from '../../providers/analytics-service/analytics-service';\n\nimport { Observable } from 'rxjs/Observable';\nimport * as firebase from 'firebase/app';\n\nimport { LoginEmailPage } from '../../pages/login-email/login-email';\nimport { SignupEmailPage } from '../../pages/signup-email/signup-email';\nimport { UserService } from '../../providers/user-service/user-service';\nimport { User } from '../../interfaces/user-interface';\n\n@Component({\n  selector: 'page-login',\n  templateUrl: 'login.html',\n})\nexport class LoginPage {\n\n  private loading: Loading;\n  private loading2: Loading;\n\n  constructor(\n    private analytics: AnalyticsService,\n    private loadingCtrl: LoadingController,\n    private navCtrl: NavController,\n    private userService: UserService\n  ) { }\n\n  private loginFB():void {\n\n    this.loading = this.loadingCtrl.create({\n      content: 'Logging in ...',\n      dismissOnPageChange: true,\n    });\n    this.loading.present();\n\n    var provider = new firebase.auth.FacebookAuthProvider();\n    provider.addScope('public_profile');\n    provider.addScope('email');\n\n    this.userService.signInRedirect(provider);\n  }\n\n  private loginGoogle():void {\n    this.loading = this.loadingCtrl.create({\n      content: 'Logging in ...',\n      dismissOnPageChange: true\n    });\n    var provider = new firebase.auth.GoogleAuthProvider();\n    this.userService.signInRedirect(provider);\n  }\n\n  private loginEmail():void {\n    this.navCtrl.push(LoginEmailPage);\n  }\n\n  private goSignup():void {\n    this.navCtrl.push(SignupEmailPage);\n  }\n\n  ionViewDidLoad() {\n    this.analytics.trackPageView('Login Page');\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login/login.ts","import { Component } from '@angular/core';\r\nimport { IonicPage, Loading, LoadingController, Toast, ToastController } from 'ionic-angular';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { AnalyticsService } from '../../providers/analytics-service/analytics-service';\r\n\r\nimport { AngularFireAuth } from 'angularfire2/auth';\r\n\r\nimport { UserService } from '../../providers/user-service/user-service';\r\nimport { User } from '../../interfaces/user-interface';\r\n\r\n@Component({\r\n  selector: 'page-login-email',\r\n  templateUrl: 'login-email.html',\r\n})\r\nexport class LoginEmailPage {\r\n\r\n  private loginForm: FormGroup;\r\n  private loading: Loading;\r\n  private toast: Toast;\r\n\r\n  constructor(\r\n    private analytics: AnalyticsService,\r\n    private formBuilder: FormBuilder,\r\n    private loadingCtrl: LoadingController,\r\n    private toastCtrl: ToastController,\r\n    private userService: UserService\r\n  ) {\r\n\r\n    this.loginForm = formBuilder.group({\r\n      email: [null,  Validators.compose([Validators.required, Validators.email])],\r\n      password: [null, Validators.required]\r\n    });\r\n  }\r\n\r\n  private onSubmit(formData: any, formValid: boolean): void {\r\n    if (!formValid)\r\n      return;\r\n\r\n    this.loading = this.loadingCtrl.create({\r\n      content: 'Logging In ...',\r\n      //dismissOnPageChange: true\r\n    });\r\n\r\n    this.loading.present()\r\n\r\n    this.userService.signInEmail(\r\n      formData.email,\r\n      formData.password\r\n    ).then(\r\n      success => {\r\n        console.log('email auth success');\r\n        this.loading.dismiss();\r\n      }).catch(\r\n      error => {\r\n        this.toast = this.toastCtrl.create({\r\n          message: error.toString(),\r\n          duration: 3000,\r\n          position: 'middle'\r\n        });\r\n        console.error(error);\r\n        this.loading.dismiss();\r\n        this.toast.present();\r\n      });\r\n\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n    this.analytics.trackPageView('Login Email Page');\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login-email/login-email.ts","import { Component } from '@angular/core';\r\nimport { IonicPage, Loading, LoadingController, Toast, ToastController } from 'ionic-angular';\r\nimport { FormBuilder, FormGroup, FormControl, Validators } from '@angular/forms';\r\nimport { AnalyticsService } from '../../providers/analytics-service/analytics-service';\r\n\r\nimport { AngularFireAuth } from 'angularfire2/auth';\r\n\r\nimport { UserService } from '../../providers/user-service/user-service';\r\nimport { User } from '../../interfaces/user-interface';\r\nimport { HomePage } from '../home/home';\r\n\r\n@Component({\r\n  selector: 'page-signup-email',\r\n  templateUrl: 'signup-email.html',\r\n})\r\nexport class SignupEmailPage {\r\n\r\n  private toast: Toast;\r\n  private createUserForm: FormGroup;\r\n  private loading: Loading;\r\n\r\n  constructor(\r\n    private analytics: AnalyticsService,\r\n    private formBuilder: FormBuilder,\r\n    private loadingCtrl: LoadingController,\r\n    private toastCtrl: ToastController,\r\n    private userService: UserService\r\n  ) {\r\n\r\n    this.createUserForm = formBuilder.group({\r\n      email: [null,  Validators.compose([Validators.required, Validators.email])],\r\n      password1: [null, Validators.required],\r\n      password2: [null, Validators.required],\r\n    }, { validator: this.passwordsAreEqual.bind(this) });\r\n  }\r\n\r\n  private onSubmit(formData: any, formValid: boolean): void {\r\n    if (!formValid)\r\n      return;\r\n\r\n    // this.loading = this.loadingCtrl.create({\r\n    //   content: 'Saving User ...',\r\n    //   //dismissOnPageChange: true\r\n    // });\r\n    //\r\n    // this.loading.present();\r\n\r\n    this.userService.createUser(\r\n      formData.email,\r\n      formData.password1\r\n    );\r\n    // .then(\r\n    //   user => {\r\n    //     this.loading.dismiss();\r\n    //     console.log(\"Email auth success: \" + JSON.stringify(user));\r\n    //   }).catch(\r\n    //   error => {\r\n    //     console.log(\"Email auth failure: \" + JSON.stringify(error));\r\n    //     this.toast = this.toastCtrl.create({\r\n    //       message: 'Email auth failure: ' + error,\r\n    //       duration: 3000,\r\n    //       position: 'middle'\r\n    //     });\r\n    //     this.loading.dismiss();\r\n    //     this.toast.present();\r\n    //   });\r\n  }\r\n\r\n  private passwordsAreEqual(ctrl: FormControl): any {\r\n    if (this.createUserForm && this.createUserForm.controls.password1.value) {\r\n      let valid = this.createUserForm.controls.password1.value == this.createUserForm.controls.password2.value;\r\n      return valid ? null : { 'passwordsAreEqual': true };\r\n    }\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n    this.analytics.trackPageView('Signup Email Page');\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/signup-email/signup-email.ts","import { Component } from '@angular/core';\r\nimport { NavController, NavParams, Toast, ToastController } from 'ionic-angular';\r\nimport { NotificationsService, SimpleNotificationsComponent  } from 'angular2-notifications';\r\n\r\nimport { DomSanitizer } from '@angular/platform-browser';\r\nimport { Camera } from '@ionic-native/camera';\r\n\r\nimport { AngularFireDatabase } from 'angularfire2/database';\r\nimport * as firebase from 'firebase/app';\r\nimport { Subscription } from 'rxjs/Subscription';\r\n\r\nimport { UserService } from '../../providers/user-service/user-service';\r\nimport { NewsService } from '../../providers/news-service/news-service';\r\nimport { ValidatorService } from '../../providers/validator-service/validator-service';\r\nimport { User } from '../../interfaces/user-interface';\r\n\r\nimport { SearchPage } from '../search/search';\r\nimport { UserDetailPage } from '../user-detail/user-detail';\r\nimport { ValidatorDetailPage } from '../validator-detail/validator-detail';\r\n\r\n@Component({\r\n  selector: 'page-home',\r\n  templateUrl: 'home.html',\r\n})\r\nexport class HomePage {\r\n\r\n  private toast: Toast;\r\n  private base64ImageData: string;\r\n  public profilePicURL: string = \"https://firebasestorage.googleapis.com/v0/b/circles-testnet.appspot.com/o/profilepics%2Fgeneric-profile-pic.png?alt=media&token=d151cdb8-115f-483c-b701-e227d52399ef\";\r\n\r\n  private user: User;\r\n  private userSub$: Subscription;\r\n\r\n  private selectedView: string = 'network';\r\n  private view: string = 'network';\r\n\r\n  private networkList: Array<any> = [];\r\n  private newsList: Array<any> = [];\r\n  private validatorList: Array<any> = [];\r\n\r\n  constructor(public navCtrl: NavController, public navParams: NavParams, private notificationsService: NotificationsService,\r\n    private camera: Camera,\r\n    private db: AngularFireDatabase,\r\n    private ds: DomSanitizer,\r\n    private toastCtrl: ToastController,\r\n    private userService: UserService,\r\n    private newsService: NewsService,\r\n    private validatorService: ValidatorService\r\n  ) { }\r\n\r\n  private openSearch(): void {\r\n    this.navCtrl.push(SearchPage);\r\n  }\r\n\r\n  private goToUserDetail(user): void {\r\n    this.navCtrl.push(UserDetailPage, user);\r\n  }\r\n\r\n  private goToValidatorDetail(validator): void {\r\n    this.navCtrl.push(ValidatorDetailPage, validator);\r\n  }\r\n\r\n  private selectNetwork(): void {\r\n    this.selectedView = 'network';\r\n  }\r\n\r\n  private selectNews(): void {\r\n    this.selectedView = 'news';\r\n  //this.newsService.allnewsItemsReversed$.subscribe( ns => {debugger});\r\n  }\r\n\r\n  private selectValidators(): void {\r\n    this.selectedView = 'validators';\r\n  }\r\n\r\n  private selectFromGallery(): void {\r\n    var options = {\r\n      sourceType: this.camera.PictureSourceType.PHOTOLIBRARY,\r\n      destinationType: this.camera.DestinationType.DATA_URL\r\n    };\r\n    this.camera.getPicture(options).then(\r\n      imageData => {\r\n        // imageData is a base64 encoded string\r\n        this.base64ImageData = imageData;\r\n        this.profilePicURL = \"data:image/jpeg;base64,\" + imageData;\r\n      },\r\n      error => {\r\n        this.toast = this.toastCtrl.create({\r\n          message: 'Error selecting from gallery: ' + error,\r\n          duration: 3000,\r\n          position: 'middle'\r\n        });\r\n        console.error(error);\r\n        this.toast.present();\r\n      });\r\n  }\r\n\r\n  private openCamera(): void {\r\n    var options = {\r\n      sourceType: this.camera.PictureSourceType.CAMERA,\r\n      destinationType: this.camera.DestinationType.DATA_URL\r\n    };\r\n    this.camera.getPicture(options).then(\r\n      imageData => {\r\n        // imageData is a base64 encoded string\r\n        this.base64ImageData = imageData;\r\n        this.profilePicURL = \"data:image/jpeg;base64,\" + imageData;\r\n      },\r\n      error => {\r\n        this.toast = this.toastCtrl.create({\r\n          message: 'Error opening camera: ' + error,\r\n          duration: 3000,\r\n          position: 'middle'\r\n        });\r\n        console.error(error);\r\n        this.toast.present();\r\n      });\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n    this.userSub$ = this.userService.user$.subscribe(\r\n      user => {\r\n        this.networkList = [];\r\n        this.validatorList = [];\r\n        this.user = user;\r\n        if (user.trustedUsers) {\r\n          user.trustedUsers.map(\r\n            key => {\r\n              if (this.user.$key == key) {\r\n                return;\r\n              }\r\n              this.userService.keyToUser$(key).subscribe(\r\n                trustedUser => { this.networkList.push(trustedUser) }\r\n              )\r\n            }\r\n          );\r\n        }\r\n        if (this.user.validators) {\r\n          this.validatorService.validators$.subscribe(\r\n            valis => {\r\n              for (let vKey of this.user.validators) {\r\n                let v = valis[vKey];\r\n                this.validatorList.push(v);\r\n              }\r\n            }\r\n          );\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.ts","import { Component } from '@angular/core';\r\nimport { NavController, NavParams } from 'ionic-angular';\r\n\r\nimport { FormBuilder, FormGroup, FormControl, Validators, } from '@angular/forms';\r\n\r\nimport { Subscription } from 'rxjs/Subscription';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { Subject } from 'rxjs/Subject';\r\n\r\nimport 'rxjs/add/operator/merge';\r\nimport 'rxjs/add/observable/combineLatest';\r\nimport 'rxjs/add/operator/first';\r\nimport 'rxjs/add/observable/empty';\r\n\r\nimport { UserService } from '../../providers/user-service/user-service';\r\nimport { ValidatorService } from '../../providers/validator-service/validator-service'\r\nimport { User } from '../../interfaces/user-interface';\r\nimport { Validator } from '../../interfaces/validator-interface';\r\n\r\nimport { ValidatorDetailPage } from '../validator-detail/validator-detail';\r\nimport { UserDetailPage } from '../user-detail/user-detail';\r\n\r\n@Component({\r\n  selector: 'page-search',\r\n  templateUrl: 'search.html',\r\n})\r\nexport class SearchPage {\r\n\r\n  private searchTerm: string = '';\r\n  private search$: Observable<any[]>;\r\n  private searchSubject$: Subject<any[]>;\r\n  private searchControl: FormControl;\r\n\r\n  private toUser: User;\r\n  private user: User;\r\n  private userSub$: Subscription;\r\n\r\n  constructor(\r\n    private navCtrl: NavController,\r\n    private formBuilder: FormBuilder,\r\n    private userService: UserService,\r\n    private validatorService: ValidatorService\r\n  ) {\r\n\r\n    this.searchSubject$ = new Subject();\r\n    this.search$ = this.searchSubject$ as Observable<any>;\r\n  }\r\n\r\n  private setFilteredItems(): void {\r\n    if (this.searchTerm == '') {\r\n      this.searchSubject$.next([]);\r\n      return;\r\n    }\r\n    let uObs = this.userService.filterUsers$(this.searchTerm);\r\n    let vObs = this.validatorService.filterValidators$(this.searchTerm);\r\n\r\n    Observable.combineLatest(uObs, vObs).first().subscribe(\r\n      combined => {\r\n        let oneArray = [...combined[0], ...combined[1]];\r\n        this.searchSubject$.next(oneArray);\r\n      }\r\n    )\r\n  }\r\n\r\n  private goToDetail(userOrVali): void {\r\n    if (userOrVali.requirements) {\r\n      //validator\r\n      this.navCtrl.push(ValidatorDetailPage, userOrVali);\r\n    }\r\n    else {\r\n      this.navCtrl.push(UserDetailPage, userOrVali);\r\n    }\r\n\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n    console.log('ionViewDidLoad SearchPage');\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/search/search.ts","import { Component } from '@angular/core';\r\nimport { IonicPage, Loading, LoadingController, NavController, NavParams, Toast, ToastController } from 'ionic-angular';\r\nimport { AngularFireDatabase } from 'angularfire2/database';\r\nimport { FormBuilder, FormGroup, FormControl, Validators, } from '@angular/forms';\r\n\r\n\r\nimport { Subscription } from 'rxjs/Subscription';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { NotificationsService } from 'angular2-notifications';\r\nimport 'rxjs/add/operator/debounceTime';\r\n\r\nimport { TransactionService } from '../../providers/transaction-service/transaction-service';\r\nimport { UserService } from '../../providers/user-service/user-service';\r\nimport { User } from '../../interfaces/user-interface';\r\nimport { AnalyticsService } from '../../providers/analytics-service/analytics-service';\r\n\r\n@Component({\r\n  selector: 'page-send',\r\n  templateUrl: 'send.html',\r\n})\r\nexport class SendPage {\r\n\r\n  private searchTerm: string = '';\r\n  private searchUsers$: Observable<User[]> | boolean;\r\n  private searchControl: FormControl;\r\n\r\n  private sendForm: FormGroup;\r\n  private toUser: User;\r\n  private user: User;\r\n  private userSub$: Subscription;\r\n\r\n  private loading: Loading;\r\n  private toast: Toast;\r\n\r\n  constructor(\r\n    private analytics: AnalyticsService,\r\n    private formBuilder: FormBuilder,\r\n    private loadingCtrl: LoadingController,\r\n    private notificationsService: NotificationsService,\r\n    private toastCtrl: ToastController,\r\n    private transactionService: TransactionService,\r\n    private userService: UserService,\r\n    private navCtrl: NavController,\r\n    private navParams: NavParams\r\n  ) {\r\n\r\n    this.toUser = navParams.data;\r\n\r\n    this.searchControl = new FormControl();\r\n\r\n    this.sendForm = formBuilder.group({\r\n      toUserKey: [this.toUser.$key, Validators.required],\r\n      amount: [null, Validators.required],\r\n      message: [null]\r\n    });\r\n  }\r\n\r\n  private onSubmit(formData: any, formValid: boolean): void {\r\n\r\n    if (!formValid)\r\n      return;\r\n\r\n    this.loading = this.loadingCtrl.create({\r\n      content: 'Sending ...'\r\n    });\r\n    this.loading.present();\r\n\r\n    if (this.user.balance < formData.amount) {\r\n      this.notificationsService.create('Send Fail', '', 'error');\r\n      let msg = \"You don't have enough Circles!\";\r\n      this.notificationsService.create('Balance', msg, 'warn');\r\n      this.loading.dismiss();\r\n      return;\r\n    }\r\n\r\n    if (this.transactionService.createTransactionIntent(formData.toUserKey, formData.amount, formData.message)) {\r\n      //reset the recipient field\r\n      this.toUser = null;\r\n      this.sendForm.reset();\r\n      this.loading.dismiss();\r\n      this.navCtrl.pop();\r\n      return;\r\n    }\r\n    else {\r\n      this.loading.dismiss();\r\n      return;\r\n    }\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n    this.analytics.trackPageView('Send Page');\r\n\r\n    this.userSub$ = this.userService.user$.subscribe(\r\n      user => this.user = user,\r\n      error => {\r\n        this.toast = this.toastCtrl.create({\r\n          message: 'Error getting user: '+error,\r\n          duration: 3000,\r\n          position: 'middle'\r\n        });\r\n        console.error(error);\r\n        this.toast.present();\r\n      },\r\n      () => console.log('send ionViewDidLoad userSub$ obs complete')\r\n    );\r\n  }\r\n\r\n  ionViewWillUnload() {\r\n    this.userSub$.unsubscribe();\r\n    if (this.searchUsers$ && typeof this.searchUsers$ !== \"boolean\")\r\n      this.searchUsers$.subscribe().unsubscribe();\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/send/send.ts","import { Component } from '@angular/core';\nimport { NavController, NavParams, Toast, ToastController } from 'ionic-angular';\nimport { AngularFireDatabase } from 'angularfire2/database';\nimport { Subscription } from 'rxjs/Subscription';\n\nimport { UserService } from '../../providers/user-service/user-service';\nimport { User } from '../../interfaces/user-interface';\nimport { Coin } from '../../interfaces/coin-interface';\n\n@Component({\n  selector: 'page-wallet',\n  templateUrl: 'wallet.html',\n})\nexport class WalletPage {\n\n  private user: User;\n  private userSub$: Subscription;\n  private toast: Toast;\n  private displayWallet: Array<Coin>;\n\n  constructor(\n    private db: AngularFireDatabase,\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    private userService: UserService,\n    private toastCtrl: ToastController\n  )\n  { }\n\n  private priorityUp(coin) {\n    coin.priority--;\n    let c1 = this.displayWallet[coin.priority];\n    c1.priority++;\n    this.displayWallet[coin.priority] = coin;\n    this.displayWallet[c1.priority] = c1;\n  }\n\n  private priorityDown(coin) {\n    coin.priority++;\n    let c1 = this.displayWallet[coin.priority];\n    c1.priority--;\n    this.displayWallet[coin.priority] = coin;\n    this.displayWallet[c1.priority] = c1;\n  }\n\n\n  private orderByPriority() {\n    this.displayWallet.sort(\n      (a,b) => {\n        if (a.priority > b.priority) {\n          return 1;\n        }\n\n        if (a.priority < b.priority) {\n         return -1;\n        }\n      return 0;\n    });\n  }\n\n  private async save() {\n    for (let c of this.displayWallet) {\n      this.user.wallet[c.owner] = c;\n    }\n\n    try {\n      let a = await this.db.object('/users/'+this.user.$key).update({\n        wallet: this.user.wallet\n      });\n    }\n    catch (error) {\n      console.error(error);\n      throw new Error(\"Purchase fail\");\n    }\n  }\n\n  ionViewDidLoad() {\n\n    console.log('ionViewDidLoad WalletPage');\n\n    this.userSub$ = this.userService.user$.subscribe(\n      user => {\n        this.user = user;\n        this.displayWallet = [];\n        for (let i in this.user.wallet) {\n          this.displayWallet.push(this.user.wallet[i]);\n        }\n        this.orderByPriority();\n      },\n      error => {\n        this.toast = this.toastCtrl.create({\n          message: 'Error getting user: '+error,\n          duration: 3000,\n          position: 'middle'\n        });\n        console.error(error);\n        this.toast.present();\n      },\n      () => console.log('send ionViewDidLoad userSub$ obs complete')\n    );\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/wallet/wallet.ts","import { Component } from '@angular/core';\r\nimport { NavController, NavParams } from 'ionic-angular';\r\nimport { Camera } from '@ionic-native/camera';\r\n\r\nimport { AngularFireDatabase } from 'angularfire2/database';\r\nimport * as firebase from 'firebase/app';\r\nimport { Subscription } from 'rxjs/Subscription';\r\n\r\nimport { UserService } from '../../providers/user-service/user-service';\r\nimport { User } from '../../interfaces/user-interface';\r\n\r\n/**\r\n * Generated class for the SettingsPage page.\r\n *\r\n * See http://ionicframework.com/docs/components/#navigation for more info\r\n * on Ionic pages and navigation.\r\n */\r\n\r\n@Component({\r\n  selector: 'page-settings',\r\n  templateUrl: 'settings.html',\r\n})\r\nexport class SettingsPage {\r\n\r\n  //vars\r\n  private base64ImageData: string;\r\n  public profilePicURL: string = \"https://firebasestorage.googleapis.com/v0/b/circles-testnet.appspot.com/o/profilepics%2Fgeneric-profile-pic.png?alt=media&token=d151cdb8-115f-483c-b701-e227d52399ef\";\r\n  private user: User;\r\n  private userSub$: Subscription;\r\n\r\n  constructor(public navCtrl: NavController, public navParams: NavParams, private userService: UserService) {\r\n  }\r\n\r\n\r\n  ionViewDidLoad() {\r\n    console.log('ionViewDidLoad SettingsPage');\r\n\r\n    //load user data\r\n    this.userSub$ = this.userService.user$.subscribe(\r\n      user => {\r\n        this.user = user;\r\n        console.log(\"user\", user);\r\n      }\r\n    );\r\n\r\n  }\r\n\r\n  saveSettings() {\r\n\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/settings/settings.ts","import { Component } from '@angular/core';\r\nimport { NavController, NavParams, Toast, ToastController } from 'ionic-angular';\r\nimport { NotificationsService, SimpleNotificationsComponent  } from 'angular2-notifications';\r\n\r\nimport { DomSanitizer } from '@angular/platform-browser';\r\nimport { Camera } from '@ionic-native/camera';\r\n\r\nimport { AngularFireDatabase } from 'angularfire2/database';\r\nimport * as firebase from 'firebase/app';\r\nimport { Subscription } from 'rxjs/Subscription';\r\n\r\nimport { UserService } from '../../providers/user-service/user-service';\r\nimport { NewsService } from '../../providers/news-service/news-service';\r\nimport { User } from '../../interfaces/user-interface';\r\n\r\nimport { SearchPage } from '../search/search';\r\nimport { UserDetailPage } from '../user-detail/user-detail';\r\nimport { ValidatorDetailPage } from '../validator-detail/validator-detail';\r\n\r\n@Component({\r\n  selector: 'page-profile',\r\n  templateUrl: 'profile.html',\r\n})\r\nexport class ProfilePage {\r\n\r\n  private toast: Toast;\r\n  private base64ImageData: string;\r\n  public profilePicURL: string = \"https://firebasestorage.googleapis.com/v0/b/circles-testnet.appspot.com/o/profilepics%2Fgeneric-profile-pic.png?alt=media&token=d151cdb8-115f-483c-b701-e227d52399ef\";\r\n  private user: User;\r\n  private userSub$: Subscription;\r\n  private providers$: Subscription;\r\n  private allProviders: Array<any>;\r\n  private userProviders: Array<boolean>;\r\n\r\n  constructor(\r\n    private camera: Camera,\r\n    private db: AngularFireDatabase,\r\n    private ds: DomSanitizer,\r\n    private toastCtrl: ToastController,\r\n    private userService: UserService\r\n  ) { }\r\n\r\n  ionViewDidLoad() {\r\n    console.log('ionViewDidLoad ProfilePage');\r\n\r\n    this.userSub$ = this.userService.user$.subscribe(\r\n      user => {\r\n        this.user = user;\r\n        this.db.list('/static/authProviders/').subscribe(\r\n          provs => {\r\n            this.allProviders = [];\r\n            this.userProviders = [];\r\n            for (let p of user.authProviders) {\r\n              this.userProviders[p] = true;\r\n            }\r\n            for (let p2 of provs) {\r\n              if (this.userProviders[p2.$key]) {\r\n                p2.completed = true;\r\n              }\r\n              this.allProviders.push(p2);\r\n            }\r\n          }\r\n        );\r\n      }\r\n    );\r\n  }\r\n\r\n  private selectFromGallery(): void {\r\n    var options = {\r\n      sourceType: this.camera.PictureSourceType.PHOTOLIBRARY,\r\n      destinationType: this.camera.DestinationType.DATA_URL\r\n    };\r\n    this.camera.getPicture(options).then(\r\n      imageData => {\r\n        // imageData is a base64 encoded string\r\n        this.base64ImageData = imageData;\r\n        this.profilePicURL = \"data:image/jpeg;base64,\" + imageData;\r\n      },\r\n      error => {\r\n        this.toast = this.toastCtrl.create({\r\n          message: 'Error selecting from gallery: ' + error,\r\n          duration: 3000,\r\n          position: 'middle'\r\n        });\r\n        console.error(error);\r\n        this.toast.present();\r\n      });\r\n  }\r\n\r\n  private openCamera(): void {\r\n    var options = {\r\n      sourceType: this.camera.PictureSourceType.CAMERA,\r\n      destinationType: this.camera.DestinationType.DATA_URL\r\n    };\r\n    this.camera.getPicture(options).then(\r\n      imageData => {\r\n        // imageData is a base64 encoded string\r\n        this.base64ImageData = imageData;\r\n        this.profilePicURL = \"data:image/jpeg;base64,\" + imageData;\r\n      },\r\n      error => {\r\n        this.toast = this.toastCtrl.create({\r\n          message: 'Error opening camera: ' + error,\r\n          duration: 3000,\r\n          position: 'middle'\r\n        });\r\n        console.error(error);\r\n        this.toast.present();\r\n      });\r\n  }\r\n\r\n  saveProfile() {\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/profile/profile.ts","import { Component } from '@angular/core';\nimport { NavController, NavParams } from 'ionic-angular';\n\nimport { FirebaseObjectObservable } from 'angularfire2/database';\n\nimport { UserService } from '../../providers/user-service/user-service';\nimport { User } from '../../interfaces/user-interface';\n\n@Component({\n  selector: 'page-disclaimer',\n  templateUrl: 'disclaimer.html',\n})\nexport class DisclaimerPage {\n\n  userObssever: FirebaseObjectObservable<User>;\n  auth: any;\n\n  constructor(\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    public userService: UserService\n  ) {\n    this.userObssever = navParams.data.obs;\n    this.auth = navParams.data.auth;\n  }\n\n  private agree() {\n    //todo: problem here on relogin without refresh\n    let u = this.userService.createUserRecord(this.auth);\n    this.userObssever.set(u);\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad DisclaimerPage');\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/disclaimer/disclaimer.ts","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app.module';\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/main.ts","import { NgModule, ErrorHandler } from '@angular/core';\r\nimport { BrowserModule } from '@angular/platform-browser';\r\nimport { IonicApp, IonicModule, IonicErrorHandler } from 'ionic-angular';\r\nimport { MyApp } from './app.component';\r\n\r\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations'\r\nimport { Camera } from '@ionic-native/camera';\r\n\r\nimport { GoogleAnalytics } from '@ionic-native/google-analytics';\r\n\r\nimport 'angular2-notifications';\r\n\r\nimport { HomePage } from '../pages/home/home';\r\nimport { ProfilePage } from '../pages/profile/profile';\r\nimport { SearchPage } from '../pages/search/search';\r\nimport { UserDetailPage } from '../pages/user-detail/user-detail';\r\nimport { ValidatorDetailPage } from '../pages/validator-detail/validator-detail';\r\n\r\nimport { LoginPage } from '../pages/login/login';\r\nimport { LoginEmailPage } from '../pages/login-email/login-email';\r\nimport { SignupEmailPage } from '../pages/signup-email/signup-email';\r\nimport { SendPage } from '../pages/send/send';\r\nimport { DisclaimerPage } from '../pages/disclaimer/disclaimer';\r\n\r\n//side menu\r\nimport { WalletPage } from '../pages/wallet/wallet';\r\nimport { SettingsPage } from '../pages/settings/settings';\r\n\r\n//services\r\nimport { AnalyticsService } from '../providers/analytics-service/analytics-service';\r\nimport { AngularFireAuthModule } from 'angularfire2/auth';\r\nimport { AngularFireDatabaseModule } from 'angularfire2/database';\r\nimport { AngularFireModule } from 'angularfire2';\r\n\r\nimport { UserService } from '../providers/user-service/user-service';\r\n\r\nimport { TransactionService } from '../providers/transaction-service/transaction-service';\r\nimport { NewsService } from '../providers/news-service/news-service';\r\nimport { PushService } from '../providers/push-service/push-service';\r\n\r\nimport { StatusBar } from '@ionic-native/status-bar';\r\nimport { SplashScreen } from '@ionic-native/splash-screen';\r\n\r\n//vendor\r\nimport { SuperTabsModule } from 'ionic2-super-tabs';\r\nimport { SimpleNotificationsModule } from 'angular2-notifications';\r\n\r\n//configs\r\nimport { environment } from '../environments/environment';\r\nimport { Keyobject } from '../pipes/key-object/key-object';\r\nimport { ValidatorService } from '../providers/validator-service/validator-service';\nimport { NewsCard } from '../components/news-card/news-card';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    LoginEmailPage,\r\n    LoginPage,\r\n    MyApp,\r\n    ProfilePage,\r\n    HomePage,\r\n    SearchPage,\r\n    UserDetailPage,\r\n    SignupEmailPage,\r\n    SendPage,\r\n    WalletPage,\r\n    ValidatorDetailPage,\r\n    Keyobject,\r\n    SettingsPage,\n    NewsCard,\r\n    DisclaimerPage\r\n  ],\r\n  imports: [\r\n    AngularFireAuthModule,\r\n    AngularFireDatabaseModule,\r\n    AngularFireModule.initializeApp(environment.firebase),\r\n    BrowserModule,\r\n    BrowserAnimationsModule,\r\n    SimpleNotificationsModule.forRoot(),\r\n    SuperTabsModule.forRoot(),\r\n    IonicModule.forRoot(MyApp, {mode: 'ios'}) //this will force 'ios' style on all platforms\r\n  ],\r\n  bootstrap: [IonicApp],\r\n  entryComponents: [\r\n    LoginEmailPage,\r\n    LoginPage,\r\n    MyApp,\r\n    ProfilePage,\r\n    HomePage,\r\n    SearchPage,\r\n    UserDetailPage,\r\n    SignupEmailPage,\r\n    SendPage,\r\n    WalletPage,\r\n    ValidatorDetailPage,\r\n    SettingsPage,\r\n    DisclaimerPage\r\n  ],\r\n  providers: [\r\n    AnalyticsService,\r\n    Camera,\r\n    GoogleAnalytics,\r\n    NewsService,\r\n    PushService,\r\n    SplashScreen,\r\n    StatusBar,\r\n    TransactionService,\r\n    UserService,\r\n    // PushService,\r\n    {provide: ErrorHandler, useClass: IonicErrorHandler},\r\n    ValidatorService\r\n  ]\r\n})\r\nexport class AppModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import { Component, ViewChild } from '@angular/core';\r\nimport { AlertController, Loading, LoadingController, Events, Platform } from 'ionic-angular';\r\nimport { StatusBar } from '@ionic-native/status-bar';\r\nimport { SplashScreen } from '@ionic-native/splash-screen';\r\n\r\n\r\nimport { AngularFireAuth } from 'angularfire2/auth';\r\nimport { AngularFireDatabase } from 'angularfire2/database';\r\nimport { Subscription } from 'rxjs/Subscription';\r\n\r\nimport { UserService } from '../providers/user-service/user-service';\r\n\r\nimport { LoginPage } from '../pages/login/login';\r\nimport { HomePage } from '../pages/home/home';\r\n\r\nimport { WalletPage } from '../pages/wallet/wallet';\r\nimport { SettingsPage } from '../pages/settings/settings';\r\nimport { ProfilePage } from '../pages/profile/profile';\r\nimport { DisclaimerPage } from '../pages/disclaimer/disclaimer';\r\n\r\n@Component({\r\n  templateUrl: 'app.html'\r\n})\r\nexport class MyApp {\r\n  rootPage:any = LoginPage;\r\n  @ViewChild('content') nav;\r\n\r\nprivate loading: Loading;\r\n\r\nprivate initSub$: Subscription;\r\n\r\n  constructor(\r\n    private alertController: AlertController,\r\n    private userService: UserService,\r\n    public events: Events,\r\n    private afAuth: AngularFireAuth,\r\n    private db: AngularFireDatabase,\r\n    private platform: Platform,\r\n    private statusBar: StatusBar,\r\n    private splashScreen: SplashScreen,\r\n    //aprivate analytics: AnalyticsService,\r\n    private loadingCtrl: LoadingController\r\n  ) {\r\n    platform.ready()      .then(() => {\r\n\r\n      if (this.platform.is('cordova')) {\r\n\r\n      }\r\n      statusBar.styleDefault();\r\n      this.userService.authState$.subscribe(\r\n        auth => {\r\n          if (auth) {\r\n            let userObs = this.db.object('/users/' + auth.uid);\r\n            let userSub = userObs.subscribe(\r\n              user => {\r\n                if (!user.$exists()) {\r\n                  this.nav.push(DisclaimerPage, { obs: userObs, auth:auth });\r\n                }\r\n                else {\r\n                  this.userService.initUserSubject$.next(user)\r\n                  this.nav.setRoot(HomePage);\r\n                }\n              }\r\n            );\r\n          }\r\n          else {}\r\n            //todo: error here\r\n        },\r\n        error => console.error(error),\r\n        () => { }\r\n      );\r\n\r\n    });\r\n  }\r\n\r\n  private goToWallet() : void {\r\n    this.nav.push(WalletPage);\r\n  }\r\n\r\n  private goToSettings() : void {\r\n    this.nav.push(SettingsPage);\r\n  }\r\n\r\n  private goToProfile() : void {\r\n    this.nav.push(ProfilePage);\r\n  }\r\n\r\n  private logout() : void {\r\n  //close subscriptions?? close services??\r\n  this.userService.signOut().then(\r\n    (user) => {\r\n    console.log('logout success');\r\n\r\n    this.nav.setRoot(LoginPage);\r\n  }, function(error) {\r\n    console.log('logout fail:', error);\r\n  });\r\n\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","import { Injectable, OnDestroy } from '@angular/core';\nimport { OneSignal, OSNotification } from '@ionic-native/onesignal';\n\nimport 'rxjs/add/operator/map';\nimport 'rxjs/add/operator/toPromise'\n\nimport { LogItem } from '../../interfaces/log-item-interface';\nimport { environment } from '../../environments/environment';\nimport { UserService } from '../../providers/user-service/user-service';\nimport { User } from '../../interfaces/user-interface';\n\n@Injectable()\nexport class PushService implements OnDestroy {\n\n  private user: User;\n\n  constructor(private oneSignal: OneSignal, private userService: UserService) {\n\n    // Enable to debug issues.\n    // window.plugins.OneSignal.setLogLevel({logLevel: 4, visualLevel: 4});\n\n    this.oneSignal.startInit(environment.cloudSettings.push.app_id, environment.cloudSettings.push.sender_id);\n\n    this.oneSignal.inFocusDisplaying(this.oneSignal.OSInFocusDisplayOption.None);\n\n    this.oneSignal.handleNotificationReceived().subscribe(() => {\n     console.log('handleNotificationReceived()');\n    });\n\n    this.oneSignal.handleNotificationOpened().subscribe(() => {\n      console.log('handleNotificationOpened()');\n    });\n\n    this.oneSignal.endInit();\n  }\n\n  public async initialise() {\n    this.user = await this.userService.user$.take(1).toPromise();\n    if (this.user.pushID)\n      return;\n\n    let ids = await this.oneSignal.getIds();\n    let updateObject = {pushID: ids.userId};\n    return await this.userService.update(updateObject);\n  }\n\n  public async pushToUser(toUser: User, message: string) {\n    let notificationObj = {\n      contents: {en: message},\n      headings: {en: 'Circles Incoming!'},\n      include_player_ids: [toUser.pushID]\n    } as OSNotification;\n    return await this.oneSignal.postNotification(notificationObj);\n  }\n\n  ngOnDestroy () {\n    //this.dbNewsSub$.unsubscribe();\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/push-service/push-service.ts","import { Injectable, Pipe } from '@angular/core';\n\n@Pipe({\n   name: 'keyobject'\n})\n@Injectable()\nexport class Keyobject {\n\ntransform(value, args:string[]):any {\n    let keys = [];\n    for (let key in value) {\n        keys.push({key: key, value: value[key]});\n    }\n    return keys;\n}}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pipes/key-object/key-object.ts","import { Component, Input, OnDestroy, OnInit } from '@angular/core';\nimport { Toast, ToastController } from 'ionic-angular';\n\nimport { Subscription } from 'rxjs/Subscription';\n\nimport { UserService } from '../../providers/user-service/user-service';\nimport { User } from '../../interfaces/user-interface';\nimport { NewsItem } from '../../interfaces/news-item-interface';\n\n\n@Component({\n  selector: 'news-card',\n  templateUrl: 'news-card.html'\n})\nexport class NewsCard implements OnDestroy, OnInit {\n\n  @Input('newsItem') newsItem: NewsItem;\n  private user: User;\n  private title: string;\n  private message: string;\n  private subject: string;\n  private userSub$: Subscription;\n\n  private toast: Toast;\n\n  constructor(private toastCtrl: ToastController, private userService: UserService) { }\n\n  ngOnInit() {\n    this.userSub$ = this.userService.user$.subscribe(\n      user => this.user = user,\n      error => {\n        this.toast = this.toastCtrl.create({\n          message: 'Error getting user: ' + error,\n          duration: 3000,\n          position: 'middle'\n        });\n        console.error(error);\n        this.toast.present();\n      },\n      () => console.log('news-card ngOnInit userSub$ obs complete')\n    );\n\n    if (this.newsItem.type == 'createAccount') {\n      this.title = \"Account Creation\";\n      this.message = \"Your Circles account was created!\";\n    }\n    else if (this.newsItem.type == 'transaction' && this.newsItem.from == this.user.$key) {\n      this.title = \"Sent Circles\";\n      this.userService.keyToUserName$(this.newsItem.to).subscribe(userName => {\n        this.message = `You sent ${this.newsItem.amount} Circles to ${userName}`;\n      });\n    }\n    else if (this.newsItem.type == 'transaction' && this.user.$key == this.newsItem.to) {\n      this.title = \"Received Circles\";\n      this.userService.keyToUserName$(this.newsItem.from).subscribe(userName => {\n        this.message = `You received ${this.newsItem.amount} Circles from ${userName}`;\n      });\n    }\n    else if (this.newsItem.type == 'validatorRequest') {\n      this.message = `You have requested validation from: ${this.newsItem.from}`;\n    }\n    else if (this.newsItem.type == 'trustRequest') {\n      this.message = `You have requested trust from: ${this.newsItem.from}`;\n    }\n    else if (this.newsItem.type == 'trustUser') {\n      this.message = `You have afforded trust to: ${this.newsItem.to}`;\n    }\n\n  }\n  ngOnDestroy() {\n    this.userSub$.unsubscribe();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/news-card/news-card.ts","import { Injectable, OnDestroy } from '@angular/core';\r\nimport { GoogleAnalytics } from '@ionic-native/google-analytics';\r\nimport { Platform } from 'ionic-angular';\r\n\r\nimport { ReplaySubject } from 'rxjs/ReplaySubject';\r\nimport { Subscription } from 'rxjs/Subscription';\r\n\r\nimport { environment } from '../../environments/environment';\r\n\r\n// override for browser google analytics ga.js\r\ndeclare var ga: any;\r\n\r\n@Injectable()\r\nexport class AnalyticsService implements OnDestroy {\r\n\r\n  private pageViewsSubject$: ReplaySubject<string>;\r\n  private pageViewsSub$: Subscription;\r\n\r\n  constructor(private platform: Platform, private gaCordova: GoogleAnalytics) {\r\n    this.platform.ready().then(() => {\r\n\r\n      if (this.platform.is(\"ios\") || this.platform.is(\"android\")) {\r\n        this.gaCordova.startTrackerWithId(environment.googleAnalytics.id).then(\r\n          res => {\r\n\r\n            console.log(\"startTrackerWithId res\", res);\r\n            this.trackPageView('Circles Bootup');\r\n\r\n            // now that we are sure the tracker has started lets connect our ReplaySubject\r\n            // so that it can send any previous pageviews.\r\n            this.pageViewsSub$ = this.pageViewsSubject$.subscribe(\r\n              pageName => {\r\n                if (this.platform.is(\"ios\") || this.platform.is(\"android\")) {\r\n                  this.gaCordova.trackView(pageName).then(\r\n                    success => {\r\n                      console.log(\"GoogleAnalytics: Tracked view for mobile: \" + pageName);\r\n                    }).catch(\r\n                    error => {\r\n                      console.log(\"GoogleAnalytics error tracking view: \" + error);\r\n                    });\r\n                }\r\n                else { //we are on web - todo: this code is currently never reached\r\n                  ga('set', 'page', pageName);\r\n                  ga('send', 'pageview');\r\n                  console.log(\"GoogleAnalytics: Tracked pageview for web: \" + pageName);\r\n                }\r\n              },\r\n              error => {\r\n                console.log(\"GoogleAnalytics: pageView Subject fail: \" + error);\r\n              },\r\n              () => console.log('analytics-service constructor pageViewsSub$ obs complete')\r\n\r\n            );\r\n\r\n          },\r\n          error => console.log(\"startTrackerWithId error\", error)\r\n        );\r\n      }\r\n\r\n    });\r\n\r\n    this.pageViewsSubject$ = new ReplaySubject<string>(10);\r\n  }\r\n\r\n  public trackPageView(pageName: string):void {\r\n    this.pageViewsSubject$.next(pageName);\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.pageViewsSub$.unsubscribe();\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/analytics-service/analytics-service.ts","import { Injectable, OnDestroy } from '@angular/core';\r\n\r\nimport { NotificationsService, SimpleNotificationsComponent  } from 'angular2-notifications';\r\nimport { AngularFireDatabase, FirebaseListObservable } from 'angularfire2/database';\r\nimport * as firebase from 'firebase/app';\r\nimport { Subscription } from 'rxjs/Subscription';\r\nimport { BehaviorSubject } from 'rxjs/BehaviorSubject';\r\nimport {Observable} from 'rxjs/Rx';\r\nimport 'rxjs/add/operator/map';\r\nimport 'rxjs/add/operator/combineLatest';\r\nimport 'rxjs/add/operator/take';\r\n\r\nimport { UserService } from '../../providers/user-service/user-service';\r\nimport { User } from '../../interfaces/user-interface';\r\nimport { NewsItem } from '../../interfaces/news-item-interface';\r\nimport { Offer } from '../../interfaces/offer-interface';\r\nimport { Validator } from '../../interfaces/validator-interface';\r\n//import { PushService } from '../../providers/push-service/push-service';\r\n\r\n@Injectable()\r\nexport class NewsService implements OnDestroy {\r\n\r\n  private user: User;\r\n\r\n  private dbNewsItems$: FirebaseListObservable<NewsItem[]>;\r\n  private dbNewsSub$: Subscription;\r\n\r\n  private newsItemsReversed$: BehaviorSubject<NewsItem[]> = new BehaviorSubject([]);\r\n  private newsItems$: BehaviorSubject<NewsItem[]> = new BehaviorSubject([]);\r\n\r\n  constructor(\r\n    private db: AngularFireDatabase,\r\n    private notificationsService: NotificationsService,\r\n    //private pushService: PushService,\r\n    private userService: UserService\r\n  ) {\r\n\r\n    this.userService.user$.subscribe(\r\n      user => {\r\n        this.user = user;\r\n        this.setupDBQuery(user);\r\n      },\r\n      error => console.error(error),\r\n      () => console.log('news-service constructor user$ obs complete')\r\n    );\r\n  }\r\n\r\n  private setupDBQuery(user: User):void {\r\n    // sets up a db list binding that will initially return all messages from the last\r\n    // two minutes and then any added to the list after that.\r\n    this.dbNewsItems$ = this.db.list('/users/' + user.$key + '/news/');\r\n    let twoMinsAgo = Date.now() - 120000;\r\n    this.dbNewsItems$.$ref\r\n      .orderByChild('timestamp')\r\n      .startAt(twoMinsAgo)\r\n      .on('child_added', (firebaseObj,index) => {\r\n        let latestNewsItem = firebaseObj.val();\r\n        //receiving from someone\r\n        if (latestNewsItem.type == 'transaction' && latestNewsItem.to == user.$key) {\r\n          this.userService.keyToUser$(latestNewsItem.from).subscribe((fromUser) => {\r\n            let msg = 'Receieved ' + latestNewsItem.amount + ' Circles from ' + fromUser.displayName;\r\n            this.notificationsService.create('Transaction', msg, 'info');\r\n          });\r\n        }\r\n      });\r\n\r\n      this.dbNewsSub$ = this.dbNewsItems$.subscribe(\r\n        newsitems => {\r\n          let r = newsitems.sort((a,b) => a.timestamp < b.timestamp ? 1 : -1);\r\n          this.newsItemsReversed$.next(r)\r\n        },\r\n        error => {\r\n          console.log(\"Firebase Error: \" + error);\r\n        },\r\n        () => console.log('news-service setupDBQuery dbNewsSub$ obs complete')\r\n      );\r\n\r\n      this.dbNewsItems$.subscribe(this.newsItems$);\r\n\r\n  }\r\n\r\n  public get allNewsItems$(): BehaviorSubject<NewsItem[]> {\r\n    return this.newsItems$;\r\n  }\r\n\r\n  public get allnewsItemsReversed$(): BehaviorSubject<NewsItem[]> {\r\n    return this.newsItemsReversed$;\r\n  }\r\n\r\n  public addTransaction(toUser:User, amount:number, message?:string):void {\r\n    //this will only be called for sending to someone else\r\n\r\n    // this.notificationsService.create('Send Success','','success');\r\n    // let msg = 'Sent ' + txItem.amount + ' Circles to ' + txItem.toUser.displayName;\r\n    // this.notificationsService.create('Transaction', msg, 'info');\r\n\r\n    let newsItem = {\r\n      timestamp: firebase.database['ServerValue']['TIMESTAMP'],\r\n      from: this.user.$key,\r\n      amount: amount,\r\n      to: toUser.$key,\r\n      type: 'transaction',\r\n      message: message || ''\r\n    };\r\n    this.dbNewsItems$.push(newsItem);\r\n\r\n    this.db.list('/users/'+toUser.$key+'/news/').push(newsItem);\r\n\r\n    //send push notification to other user\r\n    //msg = 'Receieved ' + txItem.amount + ' Circles from ' + this.user.displayName;\r\n    //this.pushService.pushToUser(txItem.toUser,msg);\r\n  }\r\n\r\n\r\n  public addValidatorTrustRequest(validator: Validator):void {\r\n    //this.notificationsService.create('Join Success','','success');\r\n    let msg = 'You applied for validation from: ' +validator.displayName;\r\n    this.notificationsService.create('Join', msg, 'info');\r\n\r\n    let newsItem = {\r\n      timestamp: firebase.database['ServerValue']['TIMESTAMP'],\r\n      from: validator.$key,\r\n      type: 'validatorRequest'\r\n    };\r\n    this.dbNewsItems$.push(newsItem);\r\n  }\r\n\r\n  public addTrustRequest(user: User):void {\r\n    //this.notificationsService.create('Join Success','','success');\r\n    let msg = 'You have requested trust from: ' +user.displayName;\r\n    this.notificationsService.create('Join', msg, 'info');\r\n\r\n    let newsItem = {\r\n      timestamp: firebase.database['ServerValue']['TIMESTAMP'],\r\n      from: user.$key,\r\n      to: this.user.$key,\r\n      type: 'trustRequest'\r\n    } as NewsItem;\r\n    this.dbNewsItems$.push(newsItem);\r\n    newsItem.unResolved = true;\r\n    this.db.list('/users/'+user.$key+'/news/').push(newsItem);\r\n  }\r\n\r\n  public addTrust(user: User):void {\r\n    //this.notificationsService.create('Join Success','','success');\r\n    let msg = 'You have started trusting: ' +user.displayName;\r\n    this.notificationsService.create('Join', msg, 'info');\r\n\r\n    let newsItem = {\r\n      timestamp: firebase.database['ServerValue']['TIMESTAMP'],\r\n      to: user.$key,\r\n      type: 'trustUser'\r\n    };\r\n    this.dbNewsItems$.push(newsItem);\r\n  }\r\n\r\n  public revokeTrust(userOrVali: User | Validator):void {\r\n    //this.notificationsService.create('Join Success','','success');\r\n    let msg = 'You have stopped trusting: ' +userOrVali.displayName;\r\n    this.notificationsService.create('Join', msg, 'info');\r\n\r\n    let newsItem = {\r\n      timestamp: firebase.database['ServerValue']['TIMESTAMP'],\r\n      to: userOrVali.$key,\r\n      type: 'revokeUser'\r\n    };\r\n    this.dbNewsItems$.push(newsItem);\r\n  }\r\n\r\n  ngOnDestroy () {\r\n    this.dbNewsSub$.unsubscribe();\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/news-service/news-service.ts"],"sourceRoot":""}